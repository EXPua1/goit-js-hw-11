{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixebay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst apiKey = '44853221-20be0a035158c611166c29677';\nconst apiUrl = 'https://pixabay.com/api/';\n\n// Функція для пошуку\nexport default function searchImages(query) {\n  // showLoadingIndicator();\n  // Кодування пошукового запиту\n  const encodedQuery = encodeURIComponent(query);\n\n  // Формування URL з усіма параметрами\n  const url = `${apiUrl}?key=${apiKey}&q=${encodedQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  // Виконання запиту до API\n  return fetch(url) // Вернем промис\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json(); // Возвращаем результат в формате JSON\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\n// Дополнительный импорт стилей\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Инициализация SimpleLightbox\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  nav: true,\n});\n\nexport default function createGallery(imagesData) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  // Создание HTML строк для всех изображений\n  const galleryHTML = imagesData\n    .map(\n      image => `\n    <div class=\"card\">\n      <a href=\"${image.largeImageURL}\" title=\"${image.tags}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n      </a>\n      <div class=\"card-info\">\n        <p>Likes ${image.likes}</p>\n        <p>Views ${image.views}</p>\n        <p>Comments ${image.comments}</p>\n        <p>Downloads ${image.downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', galleryHTML);\n\n  // Обновление lightbox после добавления новых элементов\n  lightbox.refresh();\n}\n","import searchImages from './js/pixebay-api';\nimport createGallery from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchBtn = document.querySelector('.search button');\nconst input = document.querySelector('.search input');\nconst gallery = document.querySelector('.gallery');\n\nsearchBtn.addEventListener('click', () => {\n  addLoader();\n  if (input.value === '') {\n    iziToast.info({\n      title: 'Внимание',\n      message: 'Введите текст для поиска изображений',\n      position: 'topRight',\n    });\n    removeLoader(); // Убираем загрузчик, так как нет запроса\n    return;\n  }\n\n  setTimeout(() => {\n    searchImages(input.value)\n      .then(data => {\n        if (data.hits.length === 0) {\n          errorMessage();\n        } else {\n          createGallery(data.hits);\n        }\n        removeLoader(); // Убираем загрузчик после завершения запроса\n      })\n      .catch(error => {\n        console.error('Ошибка при выполнении поискового запроса:', error);\n        errorMessage(); // Отобразим сообщение об ошибке\n        removeLoader(); // Убираем загрузчик в случае ошибки\n      });\n  }, 1000); // Задержка\n});\n\nconst errorMessage = () => {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n};\n\n// Функция для добавления загрузчика в галерею\nfunction addLoader() {\n  gallery.insertAdjacentHTML(\n    'afterbegin',\n    '<div class=\"loader\">Loading...</div>'\n  );\n}\n\n// Функция для удаления загрузчика из галереи\nfunction removeLoader() {\n  const loader = gallery.querySelector('.loader');\n  if (loader) {\n    loader.parentNode.removeChild(loader);\n  }\n}\n"],"names":["apiKey","apiUrl","searchImages","query","encodedQuery","url","response","lightbox","SimpleLightbox","createGallery","imagesData","gallery","galleryHTML","image","searchBtn","input","addLoader","iziToast","removeLoader","data","errorMessage","error","loader"],"mappings":"6vBAGA,MAAMA,EAAS,qCACTC,EAAS,2BAGA,SAASC,EAAaC,EAAO,CAG1C,MAAMC,EAAe,mBAAmBD,CAAK,EAGvCE,EAAM,GAAGJ,CAAM,QAAQD,CAAM,MAAMI,CAAY,2DAGrD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CClBA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,MAAO,GACP,IAAK,EACP,CAAC,EAEc,SAASC,EAAcC,EAAY,CAChD,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAGpB,MAAMC,EAAcF,EACjB,IACCG,GAAS;AAAA;AAAA,iBAEEA,EAAM,aAAa,YAAYA,EAAM,IAAI;AAAA,oBACtCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,mBAGvCA,EAAM,KAAK;AAAA,mBACXA,EAAM,KAAK;AAAA,sBACRA,EAAM,QAAQ;AAAA,uBACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIjC,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAW,EAGnDL,EAAS,QAAO,CAClB,CClCA,MAAMO,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAQ,SAAS,cAAc,eAAe,EAC9CJ,EAAU,SAAS,cAAc,UAAU,EAEjDG,EAAU,iBAAiB,QAAS,IAAM,CAExC,GADAE,IACID,EAAM,QAAU,GAAI,CACtBE,EAAS,KAAK,CACZ,MAAO,WACP,QAAS,uCACT,SAAU,UAChB,CAAK,EACDC,IACA,MACD,CAED,WAAW,IAAM,CACfhB,EAAaa,EAAM,KAAK,EACrB,KAAKI,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBC,IAEAX,EAAcU,EAAK,IAAI,EAEzBD,GACR,CAAO,EACA,MAAMG,GAAS,CACd,QAAQ,MAAM,4CAA6CA,CAAK,EAChED,IACAF,GACR,CAAO,CACJ,EAAE,GAAI,CACT,CAAC,EAED,MAAME,EAAe,IAAM,CACzBH,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,EAGA,SAASD,GAAY,CACnBL,EAAQ,mBACN,aACA,sCACJ,CACA,CAGA,SAASO,GAAe,CACtB,MAAMI,EAASX,EAAQ,cAAc,SAAS,EAC1CW,GACFA,EAAO,WAAW,YAAYA,CAAM,CAExC"}